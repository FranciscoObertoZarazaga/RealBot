<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/index.css')}}">
	<script src="https://cdn.socket.io/4.4.0/socket.io.min.js" integrity="sha384-1fOn6VtTq3PWwfsOrk45LnYcGosJwzMHv+Xh/Jx5303FVOXzEnw0EpLv30mtjmlj" crossorigin="anonymous"></script>
</head>
<body>
	<div class="card tester">
	  <div class="card-side front">
	    <div>
	    	<div id="state">
	    		<div class="bouncing-loader">
				  <div></div>
				  <div></div>
				  <div></div>
				</div>	
	    	</div>
	    </div>
	  </div>
	  <div class="card-side back">
	    <div>Back Side</div>
	  </div>
	</div>
	
	<script>
		var socket = io();
		socket.on('state', function(data){
			var state = 'On';
			var test_threads = data.test_threads;
			if(!test_threads){
				state = 'Off'
			}
			document.getElementById('state').innerHTML = 'State: ' + state + '<br>';
			document.getElementById('state').innerHTML += 'Last update: ' + data.last_activity;

		});
	</script>
</body>
</html>